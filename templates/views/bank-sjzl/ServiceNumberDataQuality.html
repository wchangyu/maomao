<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<!-- BEGIN HEAD -->
<head>
    <meta charset="utf-8"/>
    <title></title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <meta content="" name="description"/>
    <meta content="" name="author"/>
    <!--MY STYLE-->


    <link rel="stylesheet" href="../resource/css/leftBat.css">
    <link rel="stylesheet" href="../resource/css/index.css">
    <script src="../resource/js/jquery-1.11.2.js"></script>

    <script src="../../../assets/local/scripts/underscore-min.js"></script>
    <script src="../resource/js/pointersoffices.js"></script>
    <script src="../resource/js/moment.js"></script>
    <script src="../resource/js/showOrHidden.js"></script>
    <link rel="stylesheet" href="../resource/zTree_v3-master/css/zTreeStyle/style.css">
    <link rel="stylesheet" href="../resource/zTree_v3-master/css/metroStyle/metroStyle.css">
    <!-- BEGIN GLOBAL MANDATORY STYLES -->
    <link href="../../../assets/global/plugins/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
    <link href="../../../assets/global/plugins/simple-line-icons/simple-line-icons.min.css" rel="stylesheet" type="text/css"/>
    <link href="../../../assets/global/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="../../../assets/global/plugins/uniform/css/uniform.default.css" rel="stylesheet" type="text/css"/>
    <link href="../../../assets/global/plugins/bootstrap-switch/css/bootstrap-switch.min.css" rel="stylesheet" type="text/css"/>
    <!-- END GLOBAL MANDATORY STYLES -->
    <!-- BEGIN THEME STYLES -->
    <link href="../../../assets/global/css/components.css" id="style_components" rel="stylesheet" type="text/css"/>
    <link href="../../../assets/global/css/plugins.css" rel="stylesheet" type="text/css"/>
    <link href="../../../assets/admin/layout/css/layout.css" rel="stylesheet" type="text/css"/>
    <link id="style_color" href="../../../assets/admin/layout/css/themes/darkblue.css" rel="stylesheet" type="text/css"/>
    <link href="../../../assets/admin/layout/css/custom.css" rel="stylesheet" type="text/css"/>
    <!-- END THEME STYLES -->
    <link rel="shortcut icon" href="../favicon.ico"/>
    <!--非框架中的样式-->
    <link rel="stylesheet" href="../bank-resource/css/lib/date/bootstrap-datepicker.css"/>
    <link rel="stylesheet" href="../bank-resource/css/lib/date/bootstrap-datepicker.standalone.css"/>
    <link rel="stylesheet" href="../bank-resource/css/lib/jquery.dataTables.min.css"/>
    <link rel="stylesheet" href="../bank-resource/css/common.css"/>
    <link href="../bank-resource/data-tables/DT_bootstrap.css" rel="stylesheet" type="text/css" />

    <link rel="stylesheet" href="../bank-resource/css/nenghaochaxun/EnergyQueryTotalData.css"/>
</head>
<!-- END HEAD -->
<!-- BEGIN BODY -->
<!-- DOC: Apply "page-header-fixed-mobile" and "page-footer-fixed-mobile" class to body element to force fixed header or footer in mobile devices -->
<!-- DOC: Apply "page-sidebar-closed" class to the body and "page-sidebar-menu-closed" class to the sidebar menu element to hide the sidebar by default -->
<!-- DOC: Apply "page-sidebar-hide" class to the body to make the sidebar completely hidden on toggle -->
<!-- DOC: Apply "page-sidebar-closed-hide-logo" class to the body element to make the logo hidden on sidebar toggle -->
<!-- DOC: Apply "page-sidebar-hide" class to body element to completely hide the sidebar on sidebar toggle -->
<!-- DOC: Apply "page-sidebar-fixed" class to have fixed sidebar -->
<!-- DOC: Apply "page-footer-fixed" class to the body element to have fixed footer -->
<!-- DOC: Apply "page-sidebar-reversed" class to put the sidebar on the right side -->
<!-- DOC: Apply "page-full-width" class to the body element to have full width page without the sidebar menu -->
<body class="page-header-fixed page-quick-sidebar-over-content">
<!-- BEGIN HEADER -->
<div class="page-header navbar navbar-fixed-top">
    <!-- BEGIN HEADER INNER -->
    <div class="page-header-inner">
        <!-- BEGIN LOGO -->
        <div class="page-logo">
            <a href="./EnergyQueryTotalData.html">
                <img src="../../../assets/local/img/hq3-small.png" alt="logo" class="logo-default"/>
            </a>
            <div class="menu-toggler sidebar-toggler hide">
                <!-- DOC: Remove the above "hide" to enable the sidebar toggler button on header -->
            </div>
        </div>
        <!-- END LOGO -->
        <!-- BEGIN RESPONSIVE MENU TOGGLER -->
        <a href="javascript:;" class="menu-toggler responsive-toggler" data-toggle="collapse" data-target=".navbar-collapse">
        </a>
        <!-- END RESPONSIVE MENU TOGGLER -->
        <!-- BEGIN TOP NAVIGATION MENU -->
        <div class="totalTitle"></div>
        <div class="top-menu">
            <ul class="nav navbar-nav pull-right">
                <!-- BEGIN NOTIFICATION DROPDOWN -->
                <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->
                <li class="dropdown dropdown-extended dropdown-notification" id="header_notification_bar">
                    <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
                        <i class="icon-bell"></i>
                        <span class="badge badge-danger">
					0 </span>
                    </a>
                    <ul class="dropdown-menu">
                        <li class="external">
                            <h3><span class="bold">0 </span> 当日报警</h3>
                            <a href="../baojingyujing/warningAlarm-3.html">查看详细</a>
                        </li>
                    </ul>
                </li>
                <!-- END NOTIFICATION DROPDOWN -->

                <!-- BEGIN USER LOGIN DROPDOWN -->
                <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->
                <li class="dropdown dropdown-user">
                    <a href="javascript:;" class="dropdown-toggle" data-toggle="dropdown" data-hover="dropdown" data-close-others="true">
					<span class="username username-hide-on-mobile">
					</span>
                        <i class="fa fa-angle-down"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-default">
                        <li>
                            <a class="logout-page" href="../login.html">
                                <i class="icon-key"></i> 退出 </a>
                        </li>
                    </ul>
                </li>
                <!-- END USER LOGIN DROPDOWN -->
                <!-- BEGIN QUICK SIDEBAR TOGGLER -->
                <!-- DOC: Apply "dropdown-dark" class after below "dropdown-extended" to change the dropdown styte -->
                <!-- END QUICK SIDEBAR TOGGLER -->
            </ul>
        </div>
        <!-- END TOP NAVIGATION MENU -->
    </div>
    <!-- END HEADER INNER -->
</div>
<!-- END HEADER -->
<div class="clearfix">
</div>
<!-- BEGIN CONTAINER -->
<div class="page-container">
    <!-- BEGIN SIDEBAR -->
    <div class="page-sidebar-wrapper">
        <!-- DOC: Set data-auto-scroll="false" to disable the sidebar from auto scrolling/focusing -->
        <!-- DOC: Change data-auto-speed="200" to adjust the sub menu slide up/down speed -->
        <div class="page-sidebar navbar-collapse collapse">
            <!-- BEGIN SIDEBAR MENU -->
            <!-- DOC: Apply "page-sidebar-menu-light" class right after "page-sidebar-menu" to enable light sidebar menu style(without borders) -->
            <!-- DOC: Apply "page-sidebar-menu-hover-submenu" class right after "page-sidebar-menu" to enable hoverable(hover vs accordion) sub menu mode -->
            <!-- DOC: Apply "page-sidebar-menu-closed" class right after "page-sidebar-menu" to collapse("page-sidebar-closed" class must be applied to the body element) the sidebar sub menu mode -->
            <!-- DOC: Set data-auto-scroll="false" to disable the sidebar from auto scrolling/focusing -->
            <!-- DOC: Set data-keep-expand="true" to keep the submenues expanded -->
            <!-- DOC: Set data-auto-speed="200" to adjust the sub menu slide up/down speed -->
            <ul class="page-sidebar-menu" data-keep-expanded="false" data-auto-scroll="true" data-slide-speed="200">
                <!-- DOC: To remove the sidebar toggler from the sidebar you just need to completely remove the below "sidebar-toggler-wrapper" LI element -->
                <li class="sidebar-toggler-wrapper">
                    <!-- BEGIN SIDEBAR TOGGLER BUTTON -->
                    <div class="sidebar-toggler">
                    </div>
                    <!-- END SIDEBAR TOGGLER BUTTON -->
                </li>
            </ul>
            <!-- END SIDEBAR MENU -->
        </div>
    </div>
    <!-- END SIDEBAR -->
    <!-- BEGIN CONTENT -->
    <div class="page-content-wrapper">
        <div class="page-content">
            <!-- BEGIN STYLE CUSTOMIZER -->
            <div class="theme-panel hidden-xs hidden-sm">
                <div class="toggler">
                </div>
                <div class="toggler-close">
                </div>
                <div class="theme-options">
                    <div class="theme-option theme-colors clearfix">
						<span>
						配色 </span>
                        <ul>
                            <li class="color-default current tooltips" data-style="default" data-container="body" data-original-title="默认">
                            </li>
                            <li class="color-darkblue tooltips" data-style="darkblue" data-container="body" data-original-title="蓝黑">
                            </li>
                            <li class="color-blue tooltips" data-style="blue" data-container="body" data-original-title="蓝色">
                            </li>
                            <li class="color-grey tooltips" data-style="grey" data-container="body" data-original-title="灰色">
                            </li>
                        </ul>
                    </div>
                    <div class="theme-option">
						<span>
						布局 </span>
                        <select class="layout-option form-control input-sm">
                            <option value="fluid" selected="selected">平铺</option>
                            <option value="boxed">盒式</option>
                        </select>
                    </div>

                    <div class="theme-option">
						<span>
						侧边菜单 </span>
                        <select class="sidebar-menu-option form-control input-sm">
                            <option value="accordion" selected="selected">手风琴式</option>
                            <option value="hover">鼠标悬停</option>
                        </select>
                    </div>
                    <div class="theme-option">
						<span>
						侧边位置 </span>
                        <select class="sidebar-pos-option form-control input-sm">
                            <option value="left" selected="selected">左</option>
                            <option value="right">右</option>
                        </select>
                    </div>
                    <div class="theme-option">
						<span>
						底部 </span>
                        <select class="page-footer-option form-control input-sm">
                            <option value="fixed">位置固定</option>
                            <option value="default" selected="selected">默认</option>
                        </select>
                    </div>
                </div>
            </div>
            <!-- END STYLE CUSTOMIZER -->
            <!-- BEGIN PAGE HEADER-->
            <h3 class="page-title"></h3>
            <div class="page-bar">
                <ul class="page-breadcrumb">
                    <li>
                        <i class="fa fa-home"></i>

                        <i class="fa fa-angle-right"></i>
                    </li>
                </ul>
                <div class="showOrHidden"></div>
                <div class="page-toolbar">
                </div>
            </div>
            <!-- END PAGE HEADER-->
            <!-- BEGIN PAGE CONTENT-->
            <div class="row">

                <div class="col-lg-12 col-md-12">

                    <div class="row" style="background-color:#ffd966;padding:3px;margin-left: 0px;margin-right:0px ">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div style="float:left;line-height:35px;">对象:</div>
                    <div style="float:left;width:180px;margin-left:5px;">
                        <select id="eprSelect" class="table-group-action-input form-control" style="padding: 0"></select>
                    </div>
                    <a id="serviceQualityQsBtn" class="btn btn-default top-btn pull-left" style="margin-left:20px;">查询数据</a>
                </div>
            </div>

                    <div class="clearfix"></div>

                    <div class="row margin-top-20">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="portlet light ">
                        <div class="portlet-title">
                            <div class="caption">
                                <i class="icon-bar-chart font-green-sharp hide"></i>
                                <span id="span_slcEpr" class="caption-subject font-green-sharp bold uppercase">四川央行总行</span>
                            </div>
                        </div>
                        <div class="portlet-body">
                            <div class="row" id="zoh_row">
                                <div class="col-lg-10 col-md-10 col-sm-9 col-xs-12">
                                    <div id="chartMain" class="full-height-content-body" style="margin-top:5px;height:600px;"></div>
                                </div>
                                <div class="col-lg-2 col-md-2 col-sm-3 col-xs-12">
                                    <div style="padding-top:40px;text-align:center;width:200px;height:200px;background-color:#deebf7;border-radius:5px !important;border-radius:5px;margin:0 auto;margin-top:150px;font-size:18px;">
                                        <p>总数：<span id="span_ServiceTotalCount" style="font-size:16px;font-weight:800;">0</span>条</p>
                                        <p>在线：<span id="span_ServiceOnTotalCount" style="font-size:16px;font-weight:800;">0</span>条，<span id="span_ServiceOnTotalPer" style="font-size:16px;font-weight:800;">0</span>%</p>
                                        <p>故障：<span id="span_ServiceOFFTotalCount" style="font-size:16px;font-weight:800;">0</span>条，<span id="span_ServiceOFFTotalPer" style="font-size:16px;font-weight:800;">0</span>%</p>
                                        <p>未知：<span id="span_ServiceUnTotalCount" style="font-size:16px;font-weight:800;">0</span>条，<span id="span_ServiceUnTotalPer" style="font-size:16px;font-weight:800;">0</span>%</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row" id="zih_row" style="display:none;">
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="font-size:18px;margin-bottom:10px;">
                                    <span>总数:</span><span id="span_zh_totalcount">0</span>
                                    <span style="margin-left:16px;">在线:</span><span id="span_zh_oncount">0</span><span>,</span>
                                    <span>在线占比:</span><span id="span_zh_onper">0</span><span>%</span>
                                    <span style="margin-left:16px;">故障:</span><span id="span_zh_offcount">0</span><span>,</span>
                                    <span>故障占比:</span><span id="span_zh_offper">0</span><span>%</span>
                                    <span style="margin-left:16px;">未知:</span><span id="span_zh_uncount">0</span><span>,</span>
                                    <span>未知占比:</span><span id="span_zh_unper">0</span><span>%</span>
                                </div>
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                    <table id="table" class="table table-striped table-bordered table-advance table-hover">
                                        <thead>
                                        <tr>
                                            <th>支路名称</th>
                                            <th>对应数据采集仪</th>
                                            <th>支路状态</th>
                                        </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

                </div>

            </div>
    <!-- END QUICK SIDEBAR -->
        </div>
    </div>
</div>
<!-- END CONTAINER -->
<!-- BEGIN FOOTER -->
<div class="page-footer">
    <div class="page-footer-inner">
        2016 &copy; Huaqin.
    </div>
    <div class="scroll-to-top">
        <i class="icon-arrow-up"></i>
    </div>
</div>


<!-- END FOOTER -->
<!-- BEGIN JAVASCRIPTS(Load javascripts at bottom, this will reduce page load time) -->
<!-- BEGIN CORE PLUGINS -->
<!--[if lt IE 9]>
<script src="../../../assets/global/plugins/respond.min.js"></script>
<script src="../../../assets/global/plugins/excanvas.min.js"></script>
<![endif]-->
<script src="../../../assets/global/plugins/jquery.min.js" type="text/javascript"></script>
<script src="../../../assets/global/plugins/jquery-migrate.min.js" type="text/javascript"></script>
<!-- IMPORTANT! Load jquery-ui.min.js before bootstrap.min.js to fix bootstrap tooltip conflict with jquery ui tooltip -->
<script src="../../../assets/global/plugins/jquery-ui/jquery-ui.min.js" type="text/javascript"></script>
<script src="../../../assets/global/plugins/bootstrap/js/bootstrap.js" type="text/javascript"></script>
<script src="../../../assets/global/plugins/bootstrap-hover-dropdown/bootstrap-hover-dropdown.min.js" type="text/javascript"></script>
<script src="../../../assets/global/plugins/jquery-slimscroll/jquery.slimscroll.min.js" type="text/javascript"></script>
<script src="../../../assets/global/plugins/jquery.blockui.min.js" type="text/javascript"></script>
<script src="../../../assets/global/plugins/jquery.cokie.min.js" type="text/javascript"></script>
<script src="../../../assets/global/plugins/uniform/jquery.uniform.min.js" type="text/javascript"></script>
<script src="../../../assets/global/plugins/bootstrap-switch/js/bootstrap-switch.min.js" type="text/javascript"></script>
<!-- END CORE PLUGINS -->
<script src="../../../assets/global/scripts/metronic.js" type="text/javascript"></script>
<script src="../../../assets/admin/layout/scripts/layout.js" type="text/javascript"></script>
<script src="../../../assets/admin/layout/scripts/demo.js" type="text/javascript"></script>
<script src="../../../assets/local/scripts/BEE.js"></script>
<script src="../resource/zTree_v3-master/js/jquery.ztree.all.js"></script>
<script src="../resource/zTree_v3-master/js/jquery.ztree.exhide.js"></script>
<script src="../bank-resource/js/lib/bootstrap-datepicker.js"></script>
<script src="../bank-resource/js/lib/moment.min.js"></script>
<script rel="stylesheet" src="../bank-resource/js/lib/echarts.common.min.js"></script>
<script rel="stylesheet" src="../bank-resource/js/lib/jquery.dataTables.min.js"></script>
<script src="../bank-resource/js/common.js"></script>
<script type="text/javascript" src="../bank-resource/data-tables/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="../bank-resource/data-tables/DT_bootstrap.js"></script>

<script>
    jQuery(document).ready(function() {
        Metronic.init(); // init metronic core components
        BEE.init();
        Layout.init(); // init current layout
        Demo.init(); // init demo features
    });
</script>
<script type="text/javascript">

    var mycv;

    var zh_eprIds = [];

    var oTable = null;

    window.onresize = function () {
        if (mycv) {
            mycv.resize();
        }
    };

    $(document).ready(function () {
        if (sessionStorage.Eprs != undefined) {
            var res = sessionStorage.Eprs;
            $('#eprSelect').html();
            $('#eprSelect').find('option').remove();
            $('#eprSelect').empty();
            for (var i = 0; i < res.length; i++) {
                zh_eprIds.push(res[i].enterpriseID.toString());
                $('#eprSelect').append($("<option value=\"" + res[i].enterpriseID + "\">" + res[i].eprName + "</option>"));
            }
            var idxEpr = 0;
            $('#eprSelect option:eq(' + idxEpr + ')').attr('selected', 'selected');
            getServiceQualityDs();
        }
        else {
            getEprs();
        }
        $('#serviceQualityQsBtn').on('click', function () {
            getServiceQualityDs();
        });
    });

    function getEprs() {
        var prms = {
            userID: 'mrf',
            isShowTotalItem: 1
        };
        var url = IP + "/EnergyQuery/GetEnterpriseItem";
        $.ajax({
            type: 'GET',
            url: url,
            data: prms,
            async: false,
            success: function (res) {
                $('#eprSelect').html();
                $('#eprSelect').find('option').remove();
                $('#eprSelect').empty();
                for (var i = 0; i < res.length; i++) {
                    zh_eprIds.push(res[i].enterpriseID.toString());
                    $('#eprSelect').append($("<option value=\"" + res[i].enterpriseID + "\">" + res[i].eprName + "</option>"));
                }
                var idxEpr = 0;
                $('#eprSelect option:eq(' + idxEpr + ')').attr('selected', 'selected');
                getServiceQualityDs();
            }
        });
    }

    function getServiceQualityDs() {
        var name = $('#eprSelect').children('option:selected').text();
        $('#span_slcEpr').html(name);
        var eprIds = [];
        if ($('#eprSelect').val() === '-1')//总行
        {
            eprIds = zh_eprIds;
        }
        else {
            eprIds.push($('#eprSelect').val());
        }
        var now=new Date();
        var year=now.getFullYear();
        var month=now.getMonth()+1;
        var day=now.getDate();
        var nowStr=year+"/"+month+"/"+day;
        var url=IP + "/ServiceDataQuality/GetServiceDataQualityDs";
        var prms = {
            eprIds: eprIds,
            NOW: nowStr
        };
        $.ajax({
            type: 'POST',
            url: url,
            data: prms,
            async: true,
            success: function (res) {
                if ($('#eprSelect').val() === '-1')//总行
                {
                    $('#zoh_row').show();
                    $('#zih_row').hide();
                    init_zoh(res);
                }
                else {
                    $('#zoh_row').hide();
                    $('#zih_row').show();
                    init_zih(res);
                }

            }
        });
    }

    function init_zih(res) {
        $('#span_zh_totalcount').html(res.serviceTotalCount);
        $('#span_zh_oncount').html(res.serviceOnCount);
        $('#span_zh_onper').html(res.serviceOnCountPer);
        $('#span_zh_offcount').html(res.serviceFaultCount);
        $('#span_zh_offper').html(res.serviceFaultCountPer);
        $('#span_zh_uncount').html(res.serviceUnCount);
        $('#span_zh_unper').html(res.serviceUnCountPer);
        if (oTable) {
            oTable.fnDestroy();
        }
        oTable = $("#table").DataTable({
            "autoWidth": false,  //用来启用或禁用自动列的宽度计算
            "paging": false,   //是否分页
            "searching": false,
            "paging": false,
            "searching": false,
            "ordering": false,
            "bFilter": false,
            "bPaginate": false, //翻页功能
            "bSort": false,
            "bProcessing": false,
            "oLanguage": {
                "sLengthMenu": "每页显示 _MENU_ 条记录",
                "sZeroRecords": "没有任何数据",
                "sEmptyTable": "没有任何数据",
                "sInfo": "当前显示 _START_ 到 _END_ 条，共 _TOTAL_ 条记录",
                "sInfoFiltered": "数据表中共为 _MAX_ 条记录",
                "sInfoEmpty": "",
                "sSearch": "搜索",
                "oPaginate": {
                    "sFirst": "首页",
                    "sPrevious": "上一页",
                    "sNext": "下一页",
                    "sLast": "末页"
                },
            },
            "aoColumns": [, , , ]
        });
        var dsArr = [];
        if(res.serviceDataQualityDs!=null){
            for (var i = 0; i < res.serviceDataQualityDs.length; i++) {
                var dscArr = [];
                dscArr.push(res.serviceDataQualityDs[i].serviceName);
                dscArr.push(res.serviceDataQualityDs[i].meterName);
                var strTy = "";
                if (res.serviceDataQualityDs[i].type === "1") {
                    strTy = "正常";
                }
                if (res.serviceDataQualityDs[i].type === "2") {
                    strTy = "故障";
                }
                if (res.serviceDataQualityDs[i].type === "3") {
                    strTy = "未知";
                }
                dscArr.push(strTy);
                dsArr.push(dscArr);
            }
            var table = $('#table').dataTable();
            table.fnClearTable();
            if (dsArr != null) {
                if (dsArr.length > 0) {
                    table.fnAddData(dsArr);
                }
            }
            table.fnDraw();
        }
    }

    function init_zoh(res) {
        mycv = echarts.init(document.getElementById('chartMain'));
        $('#span_ServiceTotalCount').html(res.serviceTotalCount);
        $('#span_ServiceOnTotalCount').html(res.serviceOnCount);
        $('#span_ServiceOFFTotalCount').html(res.serviceFaultCount);
        $('#span_ServiceUnTotalCount').html(res.serviceUnCount);
        $('#span_ServiceOnTotalPer').html(res.serviceOnCountPer);
        $('#span_ServiceOFFTotalPer').html(res.serviceFaultCountPer);
        $('#span_ServiceUnTotalPer').html(res.serviceUnCountPer);
        var opt_lgs = [];
        for (var i = 0; i < res.lgs.length; i++) {
            opt_lgs.push(res.lgs[i]);
        }
        var opt_xAs = [];
        for (var i = 0; i < res.xs.length; i++) {
            opt_xAs.push(res.xs[i]);
        }
        var opt_srs = [];
        for (var i = 0; i < res.ys.length; i++) {
            var object = {};
            object.name = res.lgs[i];
            object.type = 'bar';
            object.stack = 's';
            object.data = [];
            for (var j = 0; j < res.ys[i].length; j++) {
                object.data.push(res.ys[i][j]);
            }
            opt_srs.push(object);
        }
        option = {
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'shadow'
                }
            },
            legend: {
                data: opt_lgs
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: [
                {
                    type: 'category',
                    data: opt_xAs
                }
            ],
            yAxis: [
                {
                    type: 'value'
                }
            ],
            series: opt_srs
        };
        mycv.setOption(option);
    }

</script>
<!-- END JAVASCRIPTS -->
</body>
<!-- END BODY -->
