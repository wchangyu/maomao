$(function(){    /*-----------------------------时间插件---------------------------------*/    var nowTime = moment().format('YYYY-MM-DD');    var st = moment(nowTime).subtract(7,'days').format('YYYY-MM-DD');    $('#spDT').val(st);    $('#epDT').val(nowTime);    _timeYMDComponentsFun11($('.abbrDT'));    /*-----------------------------表格初始化--------------------------------*/    //主表格    var col = [        {            title:'合同编号',            data:'htnum',            render:function(data, type, full, meta){                return '<a href="HTDetails.html?num=' + data + '" target="_blank">' + data + '</a>'            }        },        {            title:'合同名称',            data:'htname'        },        {            title:'合同类型',            data:'catename'        },        {            title:'开始时间',            data:'starttime',            render:function(data, type, full, meta){                if(data != null && data != ''){                    return data.split('T')[0]                }            }        },        {            title:'结束时间',            data:'endtime',            render:function(data, type, full, meta){                if(data != null && data != ''){                    return data.split('T')[0]                }            }        },        {            title:'合同金额',            data:'amountmoney'        },        {            title:'合同单位',            data:'clientname'        },        {            title:'签订人',            data:'signusername'        },        {            title:'已付金额',            data:'payedmoney'        },        {            title:'剩余款项',            data:'unpayedmoney'        }    ]    //导出列    var _exportCol = [0,1,2,3,4,5,6,7,8];    _tableInit($('.table'),col,1,true,'','','',_exportCol);    $('.excelButton').children('.dt-buttons').hide();    $('.excelButton').children('.dt-buttons').eq(0).show();    //默认加载    conditionSelect();    $('.nav-tabs-lg').on('click','li',function(){        $('.excelButton').children('.dt-buttons').hide();        $('.excelButton').children('.dt-buttons').eq($(this).index()).show();        $('.table-block').hide();        $('.table-block').eq($(this).index()).show();    })    /*-----------------------------按钮事件----------------------------------*/    //查询    $('#selectBtn').click(function(){        conditionSelect();    })    //重置    $('#resetBtn').click(function(){        $('.L-condition').eq(0).find('input').val('');        $('.L-condition').eq(0).find('select').val(-1);        $('#spDT').val(st);        $('#epDT').val(nowTime);    })    /*-----------------------------其他方法----------------------------------*/    //条件查询    function conditionSelect(){        var prm = {            //项目名称            projectName:$('#HT-projectCon').val(),            //合同名称            htname:$('#HT-nameCon').val(),            //合同类型            catename:$('#HT-typeCon').val(),            //甲方单位            clientName:$('#HT-customerCon').val(),            //签订人            signUserName:$('#HT-signCon').val(),            //审核状态            audit:-1,            //合同编码            //htNum:$('#DC-numCon').val(),            //开始时间            begintime:$('#spDT').val(),            //结束时间            endtime:moment($('#epDT').val()).add(1,'d').format('YYYY-MM-DD'),            //状态            htStatus:10        }        _mainAjaxFunCompleteNew('post','YHQHT/GetHTInfoList',prm,$('.L-container'),function(result){            var arr = [];            var arr1 = [];            var arr2 = [];            if(result.code == 99){                for(var i=0;i<result.data.length;i++){                    arr.push(result.data[i]);                    //未付款                    if(result.data[i].payedmoney == 0){                        arr1.push(result.data[i]);                    }                    if(result.data[i].unpayedmoney != 0){                        arr2.push(result.data[i]);                    }                }                _datasTable($('#table'),arr);                _datasTable($('#table1'),arr1);                _datasTable($('#table2'),arr2);            }        })    }})